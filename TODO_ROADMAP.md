# Ollin í”„ë¡œì íŠ¸ ê°œì„  ì‘ì—… ë¡œë“œë§µ

> í˜„ëŒ€í™”ëœ í”„ë¡œì íŠ¸ë¡œì˜ ì „í™˜ - ë‹¨ê³„ë³„ ì‹¤í–‰ ê³„íš

**ë²„ì „**: 0.5.0 **ì‘ì„±ì¼**: 2025-11-18 **ì˜ˆìƒ ì™„ë£Œ**: 2-3ì£¼

---

## ğŸ“Š ì „ì²´ ì§„í–‰ ìƒí™©

```
[â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 40% ì™„ë£Œ

âœ… Phase 0: ë¶„ì„ ë° ì„¤ê³„ (100%)
âœ… Phase 1: ê°œë°œ í™˜ê²½ ì„¤ì • (100%)
ğŸ”„ Phase 2: ì½”ë“œ í’ˆì§ˆ ê°œì„  (20%)
ğŸ“‹ Phase 3: êµ¬ì¡° ë¦¬íŒ©í† ë§ (0%)
ğŸ“‹ Phase 4: TypeScript ì „í™˜ (0%)
ğŸ“‹ Phase 5: ë¹Œë“œ ì‹œìŠ¤í…œ (0%)
ğŸ“‹ Phase 6: CI/CD ìë™í™” (0%)
```

---

## Phase 0: ë¶„ì„ ë° ì„¤ê³„ âœ… (ì™„ë£Œ)

### ëª©í‘œ

í”„ë¡œì íŠ¸ í˜„í™© íŒŒì•… ë° ê°œì„  ë°©í–¥ ìˆ˜ë¦½

### ì‘ì—… ëª©ë¡

- [x] **í”„ë¡œì íŠ¸ êµ¬ì¡° ë¶„ì„**
  - [x] í•µì‹¬ ë¡œì§ íŒŒì•… (dkoverlay.js, background.js)
  - [x] ì½”ë“œ ì¤‘ë³µ í™•ì¸ (app, bookmarklet, docs)
  - [x] ë²„ê·¸ ë° ë¬¸ì œì  ì‹ë³„

- [x] **ë¬¸ì„œ ì‘ì„±**
  - [x] PROJECT_ANALYSIS.md (AI ê¸°ì´ˆ ì •ë³´ ë¬¸ì„œ)
  - [x] CODE_REVIEW.md #1 (app í´ë” ë¦¬ë·°)
  - [x] CODE_REVIEW_2.md (êµ¬ì¡°ì  ë¬¸ì œ ë¶„ì„)
  - [x] FOLDER_STRUCTURE_PROPOSAL.md (êµ¬ì¡° ê°œì„  ì œì•ˆ)
  - [x] BUILD_SYSTEM_PROPOSAL.md (Vite+SWC ë¹Œë“œ)
  - [x] GITHUB_PAGES_PROPOSAL.md (Svelte + CI/CD)
  - [x] NAMING_CONVENTIONS.md (ë„¤ì´ë° ê°€ì´ë“œ)
  - [x] MODERNIZATION_GUIDE.md (í˜„ëŒ€í™” ê°€ì´ë“œ)
  - [x] TODO_ROADMAP.md (ë³¸ ë¬¸ì„œ)

- [x] **ê°œì„  ë°©í–¥ ê²°ì •**
  - [x] í˜„ëŒ€í™”ëœ íŠ¸ë Œë“œ ì ìš© (TypeScript, ESLint, Prettier)
  - [x] ë¹Œë“œ ì‹œìŠ¤í…œ ë„ì… (Vite + SWC)
  - [x] CI/CD ìë™í™” (GitHub Actions)

**ì†Œìš” ì‹œê°„**: 1ì¼ **ì™„ë£Œì¼**: 2025-11-18

---

## Phase 1: ê°œë°œ í™˜ê²½ ì„¤ì • âœ… (ì™„ë£Œ)

### ëª©í‘œ

ë¦°íŠ¸, í¬ë§·íŒ…, íƒ€ì… ì²´í¬ í™˜ê²½ êµ¬ì¶•

### ì‘ì—… ëª©ë¡

- [x] **íŒ¨í‚¤ì§€ ì„¤ì •**
  - [x] package.json ì—…ë°ì´íŠ¸ (ìµœì‹  ë²„ì „ ë¼ì´ë¸ŒëŸ¬ë¦¬)
  - [x] ESLint 9.x ì„¤ì • (Flat Config)
  - [x] Prettier 3.x ì„¤ì •
  - [x] TypeScript 5.7 ì„¤ì •
  - [x] Jest ì„¤ì • ìœ ì§€

- [x] **ì½”ë“œ í’ˆì§ˆ ë„êµ¬**
  - [x] ESLint + TypeScript í†µí•©
  - [x] ESLint + Prettier í†µí•©
  - [x] JSDoc í”ŒëŸ¬ê·¸ì¸ ì¶”ê°€

- [x] **Git Hooks**
  - [x] Husky 9.x ì„¤ì •
  - [x] lint-staged ì„¤ì •
  - [x] pre-commit hook (lint + format + type-check)

- [x] **ì„¤ì • íŒŒì¼**
  - [x] eslint.config.js
  - [x] .prettierrc.json
  - [x] .prettierignore
  - [x] tsconfig.json
  - [x] .gitignore ì—…ë°ì´íŠ¸

**ì†Œìš” ì‹œê°„**: 0.5ì¼ **ì™„ë£Œì¼**: 2025-11-18

---

## Phase 2: ì½”ë“œ í’ˆì§ˆ ê°œì„  ğŸ”„ (ì§„í–‰ ì¤‘)

### ëª©í‘œ

ê¸°ì¡´ ì½”ë“œì˜ ë²„ê·¸ ìˆ˜ì • ë° ì½”ë“œ ìŠ¤íƒ€ì¼ í†µì¼

### ì‘ì—… ëª©ë¡

#### 2.1 ë²„ê·¸ ìˆ˜ì • âœ…

- [x] getCssProperty ë…¼ë¦¬ ì˜¤ë¥˜ ìˆ˜ì •
- [x] ì—ëŸ¬ ì²˜ë¦¬ ì¶”ê°€ (FileReader, Image)
- [x] íŒŒì¼ íƒ€ì… ê²€ì¦ ì¶”ê°€

#### 2.2 ì½”ë“œ ìŠ¤íƒ€ì¼ í˜„ëŒ€í™” ğŸ“‹

- [ ] **var â†’ const/let ë³€ê²½**
  - [ ] app/js/dkoverlay.js
  - [ ] app/background.js
  - [ ] app/js/option.js
  - [ ] app/js/i18n.js

- [ ] **console.log ì œê±°** (ì—ëŸ¬ ë¡œê·¸ë§Œ ìœ ì§€)
  - [ ] app/js/dkoverlay.js (í˜„ì¬ 57, 62, 84ì¤„)
  - [ ] bookmarklet/ollin.js (69, 74ì¤„ ë“±)

- [ ] **í™”ì‚´í‘œ í•¨ìˆ˜ ì „í™˜**

  ```javascript
  // Before
  function getCssProperty() { ... }

  // After
  const getCssProperty = () => { ... };
  ```

- [ ] **í…œí”Œë¦¿ ë¦¬í„°ëŸ´ ì‚¬ìš©**

  ```javascript
  // Before
  'x' +
    value
    // After
    `x${value}`;
  ```

- [ ] **Optional Chaining ì‚¬ìš©**

  ```javascript
  // Before
  img.naturalWidth || img.width;

  // After
  img.naturalWidth ?? img.width;
  ```

#### 2.3 JSDoc ê°•í™” ğŸ“‹

- [x] app/js/dkoverlay.js (ì™„ë£Œ)
- [x] app/background.js (ì™„ë£Œ)
- [x] app/js/option.js (ì™„ë£Œ)
- [ ] app/js/i18n.js
- [ ] bookmarklet/ollin.js

**ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 1ì¼ **ìš°ì„ ìˆœìœ„**: ë†’ìŒ

---

## Phase 3: êµ¬ì¡° ë¦¬íŒ©í† ë§ ğŸ“‹ (ê³„íš)

### ëª©í‘œ

íŒŒì¼ëª…, ID, í´ë˜ìŠ¤ëª…ì„ ë„¤ì´ë° ì»¨ë²¤ì…˜ì— ë§ê²Œ ë³€ê²½

### ì‘ì—… ëª©ë¡

#### 3.1 íŒŒì¼ëª… ë³€ê²½

- [ ] `app/js/dkoverlay.js` â†’ `app/js/content-script.js`
- [ ] `app/js/option.js` â†’ `app/js/options.js`
- [ ] `app/js/i18n.js` â†’ (ìœ ì§€, ì´ë¯¸ ëª…í™•í•¨)
- [ ] `app/background.js` â†’ (ìœ ì§€, ì´ë¯¸ ëª…í™•í•¨)

#### 3.2 ID ë³€ê²½ (HTML/JavaScript)

```javascript
const IDS = {
  // Before â†’ After
  'dk_overlay_img_layer' â†’ 'ollin-layer',
  'dk_overlay_img' â†’ 'ollin-image',
  'dk_overlay_btn' â†’ 'ollin-toggle-btn',
  'dk_overlay_scale' â†’ 'ollin-scale-slider',
  'dk_overlay_scale_text' â†’ 'ollin-scale-value',
  'dk_overlay_opacity' â†’ 'ollin-opacity-slider',
  'dk_overlay_opacity_text' â†’ 'ollin-opacity-value',
  'dk_overlay_files' â†’ 'ollin-file-input',
  'dk_overlay_controller_toolbar' â†’ 'ollin-toolbar'
};
```

#### 3.3 í´ë˜ìŠ¤ëª… ë³€ê²½ (CSS)

```javascript
const CLASSES = {
  // Before â†’ After
  'tit' â†’ 'ollin-title',
  'sw' â†’ 'ollin-toggle',
  'mag' â†’ 'ollin-scale-icon',
  'opacity' â†’ 'ollin-opacity-icon',
  'tools' â†’ 'ollin-toolbar',
  'on' â†’ 'ollin-toggle-active',
  'off' â†’ 'ollin-toggle-inactive'
};
```

#### 3.4 ë³€ìˆ˜/í•¨ìˆ˜ëª… ë³€ê²½

```javascript
// Before
var ollin = {
  handle: {
    file: function () {},
    opacity: function () {},
    scale: function () {},
    layer: function () {}
  }
};

// After
const ollinOverlay = {
  handlers: {
    onFileSelect: () => {},
    onOpacityChange: () => {},
    onScaleChange: () => {},
    onLayerToggle: () => {}
  }
};
```

#### 3.5 CSS íŒŒì¼ ì—…ë°ì´íŠ¸

- [ ] app/css/dkoverlay.css
- [ ] bookmarklet/ollin.css
- [ ] docs/ollin.css

**ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 2ì¼ **ìš°ì„ ìˆœìœ„**: ì¤‘ê°„ **ì˜ì¡´ì„±**: Phase 2 ì™„ë£Œ í›„

---

## Phase 4: TypeScript ì „í™˜ ğŸ“‹ (ê³„íš)

### ëª©í‘œ

ì ì§„ì ìœ¼ë¡œ TypeScriptë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜

### ì‘ì—… ëª©ë¡

#### 4.1 íƒ€ì… ì •ì˜ íŒŒì¼ ì‘ì„±

- [ ] `src/types/index.ts`
  - [ ] OllinConfig ì¸í„°í˜ì´ìŠ¤
  - [ ] OllinElements ì¸í„°í˜ì´ìŠ¤
  - [ ] OllinHandlers ì¸í„°í˜ì´ìŠ¤
  - [ ] OllinState ì¸í„°í˜ì´ìŠ¤

#### 4.2 ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ì „í™˜

- [ ] `src/core/utils.ts`
  - [ ] getCssProperty
  - [ ] showError
  - [ ] ê¸°íƒ€ ê³µí†µ í•¨ìˆ˜

#### 4.3 ì„¤ì • íŒŒì¼ ì „í™˜

- [ ] `src/core/config.ts`
  - [ ] CONFIG ìƒìˆ˜
  - [ ] IDS ìƒìˆ˜
  - [ ] CLASSES ìƒìˆ˜

#### 4.4 í•µì‹¬ ë¡œì§ ì „í™˜

- [ ] `src/core/handlers.ts`
- [ ] `src/core/ui.ts`
- [ ] `src/core/drag.ts`
- [ ] `src/core/index.ts`

#### 4.5 Chrome Extension ì „í™˜

- [ ] `src/chrome/content-script.ts`
- [ ] `src/chrome/background.ts`
- [ ] `src/chrome/options.ts`
- [ ] `src/chrome/i18n.ts`

#### 4.6 í…ŒìŠ¤íŠ¸ ì „í™˜

- [ ] `tests/setup.ts`
- [ ] `tests/*.test.ts`

**ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 3ì¼ **ìš°ì„ ìˆœìœ„**: ì¤‘ê°„ **ì˜ì¡´ì„±**: Phase 3 ì™„ë£Œ í›„

---

## Phase 5: ë¹Œë“œ ì‹œìŠ¤í…œ ğŸ“‹ (ê³„íš)

### ëª©í‘œ

Vite + SWCë¡œ ì´ì¤‘ ë¹Œë“œ (Chrome + Bookmarklet)

### ì‘ì—… ëª©ë¡

#### 5.1 Vite ì„¤ì •

- [ ] `vite.config.ts` ì‘ì„±
- [ ] Chrome Extension ë¹Œë“œ ì„¤ì •
- [ ] Bookmarklet ë¹Œë“œ ì„¤ì • (ES5 ë³€í™˜)
- [ ] Path alias ì„¤ì • (@core, @chrome ë“±)

#### 5.2 SWC ì„¤ì •

- [ ] `.swcrc` ì‘ì„±
- [ ] ES2020 íƒ€ê²Ÿ (Chrome)
- [ ] ES5 íƒ€ê²Ÿ (Bookmarklet + í´ë¦¬í•„)

#### 5.3 ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸

```json
{
  "scripts": {
    "dev:chrome": "vite build --watch --mode chrome",
    "dev:bookmarklet": "vite build --watch --mode bookmarklet",
    "build": "npm run build:all",
    "build:all": "npm run build:chrome && npm run build:bookmarklet",
    "build:chrome": "tsc && vite build --mode chrome",
    "build:bookmarklet": "tsc && vite build --mode bookmarklet"
  }
}
```

#### 5.4 ê³µí†µ ì½”ì–´ ëª¨ë“ˆ ìƒì„±

```
src/
â”œâ”€â”€ core/           # ê³µí†µ í•µì‹¬ ë¡œì§
â”‚   â”œâ”€â”€ config.ts
â”‚   â”œâ”€â”€ utils.ts
â”‚   â”œâ”€â”€ handlers.ts
â”‚   â”œâ”€â”€ ui.ts
â”‚   â”œâ”€â”€ drag.ts
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ chrome/         # Chrome Extension wrapper
â”‚   â”œâ”€â”€ content-script.ts
â”‚   â”œâ”€â”€ background.ts
â”‚   â””â”€â”€ options.ts
â””â”€â”€ bookmarklet/    # Bookmarklet wrapper
    â””â”€â”€ index.ts
```

#### 5.5 ê²°ê³¼ë¬¼ ê²€ì¦

- [ ] Chrome Extension í…ŒìŠ¤íŠ¸ (dist/chrome/)
- [ ] Bookmarklet í…ŒìŠ¤íŠ¸ (dist/bookmarklet/)
- [ ] ë²ˆë“¤ í¬ê¸° í™•ì¸
- [ ] ë¸Œë¼ìš°ì € í˜¸í™˜ì„± í…ŒìŠ¤íŠ¸

**ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 2ì¼ **ìš°ì„ ìˆœìœ„**: ë†’ìŒ **ì˜ì¡´ì„±**: Phase 4 ì™„ë£Œ í›„

---

## Phase 6: CI/CD ìë™í™” ğŸ“‹ (ê³„íš)

### ëª©í‘œ

GitHub Actionsë¡œ ìë™ í…ŒìŠ¤íŠ¸/ë¹Œë“œ/ë°°í¬

### ì‘ì—… ëª©ë¡

#### 6.1 GitHub Actions Workflows

- [ ] `.github/workflows/ci.yml`
  - [ ] Lint
  - [ ] Type check
  - [ ] Test
  - [ ] Build

- [ ] `.github/workflows/deploy.yml`
  - [ ] Chrome Extension ë¹Œë“œ
  - [ ] Bookmarklet ë¹Œë“œ
  - [ ] GitHub Pages ë°°í¬

#### 6.2 GitHub Pages í˜„ëŒ€í™” (ì„ íƒ)

- [ ] SvelteKit ì„¤ì •
- [ ] ë©”ì¸ í˜ì´ì§€ (Svelte)
- [ ] ë°ëª¨ í˜ì´ì§€ (Ollin í†µí•©)
- [ ] ë¬¸ì„œ í˜ì´ì§€

#### 6.3 Release ìë™í™”

- [ ] ë²„ì „ íƒœê¹…
- [ ] Release Notes ìƒì„±
- [ ] Chrome Extension ZIP ì—…ë¡œë“œ

**ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 2ì¼ **ìš°ì„ ìˆœìœ„**: ë‚®ìŒ **ì˜ì¡´ì„±**: Phase 5 ì™„ë£Œ í›„

---

## ìš°ì„ ìˆœìœ„ ì •ë¦¬

### ì¦‰ì‹œ (ì´ë²ˆ ì£¼)

1. âœ… Phase 0: ë¶„ì„ ë° ì„¤ê³„
2. âœ… Phase 1: ê°œë°œ í™˜ê²½ ì„¤ì •
3. ğŸ”„ Phase 2: ì½”ë“œ í’ˆì§ˆ ê°œì„ 

### ë‹¨ê¸° (1ì£¼ì¼)

4. Phase 3: êµ¬ì¡° ë¦¬íŒ©í† ë§
5. Phase 4: TypeScript ì „í™˜ (ì¼ë¶€)

### ì¤‘ê¸° (2ì£¼)

6. Phase 4: TypeScript ì „í™˜ (ì™„ë£Œ)
7. Phase 5: ë¹Œë“œ ì‹œìŠ¤í…œ

### ì¥ê¸° (3ì£¼+)

8. Phase 6: CI/CD ìë™í™”
9. ì¶”ê°€ ê¸°ëŠ¥ ê°œë°œ

---

## ì˜ˆìƒ ì¼ì •

```
Week 1
â”œâ”€â”€ Phase 0 âœ… (1ì¼)
â”œâ”€â”€ Phase 1 âœ… (0.5ì¼)
â”œâ”€â”€ Phase 2 ğŸ”„ (1ì¼)
â””â”€â”€ Phase 3 ğŸ“‹ (2ì¼)

Week 2
â”œâ”€â”€ Phase 4 ğŸ“‹ (3ì¼)
â””â”€â”€ Phase 5 ğŸ“‹ (2ì¼)

Week 3
â””â”€â”€ Phase 6 ğŸ“‹ (2ì¼)
```

**ì´ ì†Œìš” ì‹œê°„**: ì•½ 12ì¼ (2.5ì£¼)

---

## ì²´í¬ë¦¬ìŠ¤íŠ¸

### âœ… ì™„ë£Œëœ í•­ëª©

- [x] í”„ë¡œì íŠ¸ ë¶„ì„ ë¬¸ì„œ ì‘ì„±
- [x] ì½”ë“œ ë¦¬ë·° ë³´ê³ ì„œ ì‘ì„±
- [x] ì œì•ˆì„œ ì‘ì„± (êµ¬ì¡°, ë¹Œë“œ, CI/CD)
- [x] ë„¤ì´ë° ì»¨ë²¤ì…˜ ê°€ì´ë“œ ì‘ì„±
- [x] í˜„ëŒ€í™” ê°€ì´ë“œ ì‘ì„±
- [x] ESLint ì„¤ì •
- [x] Prettier ì„¤ì •
- [x] TypeScript ì„¤ì •
- [x] Husky + lint-staged ì„¤ì •
- [x] ë²„ê·¸ ìˆ˜ì • (app í´ë”)
- [x] ë²„ê·¸ ìˆ˜ì • (bookmarklet í´ë”)
- [x] JSDoc ì¶”ê°€ (app í´ë”)

### ğŸ”„ ì§„í–‰ ì¤‘

- [ ] ì½”ë“œ ìŠ¤íƒ€ì¼ í˜„ëŒ€í™” (var â†’ const/let ë“±)
- [ ] console.log ì œê±°
- [ ] í™”ì‚´í‘œ í•¨ìˆ˜ ì „í™˜

### ğŸ“‹ ëŒ€ê¸° ì¤‘

- [ ] íŒŒì¼ëª…/ID/í´ë˜ìŠ¤ëª… ë³€ê²½
- [ ] TypeScript ì „í™˜
- [ ] ë¹Œë“œ ì‹œìŠ¤í…œ êµ¬ì¶•
- [ ] CI/CD ì„¤ì •

---

## ë‹¤ìŒ ë‹¨ê³„

### ì¦‰ì‹œ ì‹¤í–‰

1. **ì»¤ë°‹ ë° í‘¸ì‹œ**

   ```bash
   git add .
   git commit -m "chore: Add modernization setup (ESLint, Prettier, TypeScript, Husky)"
   git push
   ```

2. **npm install ì‹¤í–‰**

   ```bash
   npm install
   ```

3. **ë¦°íŠ¸/í¬ë§· í…ŒìŠ¤íŠ¸**
   ```bash
   npm run lint
   npm run format
   npm run type-check
   ```

### ì´ë²ˆ ì£¼ ëª©í‘œ

1. Phase 2 ì™„ë£Œ (ì½”ë“œ í’ˆì§ˆ ê°œì„ )
2. Phase 3 ì‹œì‘ (êµ¬ì¡° ë¦¬íŒ©í† ë§)

---

## ì°¸ê³  ë¬¸ì„œ

### ì´ í”„ë¡œì íŠ¸ì˜ ë¬¸ì„œ

- [PROJECT_ANALYSIS.md](./PROJECT_ANALYSIS.md) - í”„ë¡œì íŠ¸ ë¶„ì„
- [CODE_REVIEW.md](./CODE_REVIEW.md) - ì½”ë“œ ë¦¬ë·° #1
- [CODE_REVIEW_2.md](./CODE_REVIEW_2.md) - ì½”ë“œ ë¦¬ë·° #2
- [NAMING_CONVENTIONS.md](./NAMING_CONVENTIONS.md) - ë„¤ì´ë° ê°€ì´ë“œ
- [MODERNIZATION_GUIDE.md](./MODERNIZATION_GUIDE.md) - í˜„ëŒ€í™” ê°€ì´ë“œ
- [BUILD_SYSTEM_PROPOSAL.md](./BUILD_SYSTEM_PROPOSAL.md) - ë¹Œë“œ ì œì•ˆ
- [GITHUB_PAGES_PROPOSAL.md](./GITHUB_PAGES_PROPOSAL.md) - CI/CD ì œì•ˆ

---

**ì‘ì„±ì**: AI Analysis (Claude Code) **ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-11-18 **ë²„ì „**:
1.0.0
